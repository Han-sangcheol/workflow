"""
AI í”„ë¡¬í”„íŠ¸ ì„¤ì •
ì—…ë¬´ì¼ì§€ ë¶„ì„ì„ ìœ„í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì„ ì •ì˜í•©ë‹ˆë‹¤.
"""

from typing import Dict


# ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (AI ì—­í•  ì •ì˜)
SYSTEM_PROMPT = """ë‹¹ì‹ ì€ FWíŒ€ì˜ ì—…ë¬´ì¼ì§€ë¥¼ ë¶„ì„í•˜ê³  ì •ë¦¬í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.
ì •í™•í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ì—…ë¬´ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©°, í•­ìƒ í•œêµ­ì–´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.
ì¤‘êµ­ì–´ ê°„ì²´ìžëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."""


# í…ìŠ¤íŠ¸ ì •ë¦¬ í”„ë¡¬í”„íŠ¸ (1ë‹¨ê³„: ì›ë³¸ í…ìŠ¤íŠ¸ â†’ ì •ë¦¬ëœ í…ìŠ¤íŠ¸)
# ëª©ì : PDFì—ì„œ ì¶”ì¶œí•œ ì›ë³¸ í…ìŠ¤íŠ¸ì˜ êµ¬ì¡°ë¥¼ ì •ë¦¬ (ë‚´ìš© ì‚­ì œ/ë‹¨ì¶• ê¸ˆì§€)
CLEANING_PROMPT = """ë‹¤ìŒì€ ì—¬ëŸ¬ íŒ€ì›ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ ì›ë³¸ í…ìŠ¤íŠ¸ìž…ë‹ˆë‹¤.
PDFì—ì„œ ì¶”ì¶œë˜ì–´ êµ¬ì¡°ê°€ ê¹¨ì ¸ìžˆìœ¼ë¯€ë¡œ ì½ê¸° ì‰½ê²Œ ì •ë¦¬í•´ì£¼ì„¸ìš”.

[í•µì‹¬ ê·œì¹™]
1. ì›ë³¸ ë‚´ìš© 100% ìœ ì§€ (ì‚­ì œ/ìš”ì•½ ê¸ˆì§€)
2. ê° íŒ€ì›ì˜ ì—…ë¬´ëŠ” í•´ë‹¹ íŒ€ì›ì—ê²Œë§Œ ìž‘ì„± (í˜¼ë™ ê¸ˆì§€)
3. "=== íŒŒì¼: ...FWíŒ€ [ì´ë¦„]... ===" êµ¬ë¶„ìžë¡œ íŒ€ì› êµ¬ë¶„

[íŒ€ì› êµ¬ë¶„ ë°©ë²•]
- "=== íŒŒì¼: ...FWíŒ€ ê¹€ìƒì¼... ===" ì´í›„ ë‚´ìš© â†’ ê¹€ìƒì¼ì˜ ì—…ë¬´
- "=== íŒŒì¼: ...FWíŒ€ ê°•ë¯¼ì„±... ===" ì´í›„ ë‚´ìš© â†’ ê°•ë¯¼ì„±ì˜ ì—…ë¬´
- ë‹¤ìŒ "=== íŒŒì¼:" ì´ ë‚˜ì˜¤ê¸° ì „ê¹Œì§€ê°€ í•´ë‹¹ íŒ€ì›ì˜ ì—…ë¬´ìž…ë‹ˆë‹¤

[ì¶œë ¥ í˜•ì‹]
########## íŒ€ì› ëª©ë¡ ##########
[ì´ë¦„1], [ì´ë¦„2], ...

########## [ì´ë¦„1] (YYYY.MM.DD) ##########
ã€ê¸ˆì¼ì—…ë¬´ã€‘
â€¢ í”„ë¡œì íŠ¸: [í”„ë¡œì íŠ¸ëª…]
  - ëª©ì : [ë‚´ìš©]
  - Action: [ë‚´ìš©]
  - ì§„í–‰ë¥ : [ê³„íš]% / [ë‹¬ì„±]%

ã€ìµì¼ì—…ë¬´ã€‘
â€¢ í”„ë¡œì íŠ¸: [í”„ë¡œì íŠ¸ëª…]
  - [ë‚´ìš©]

########## [ì´ë¦„2] (YYYY.MM.DD) ##########
(ìœ„ì™€ ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ í•´ë‹¹ íŒ€ì›ì˜ ì—…ë¬´ë§Œ ìž‘ì„±)

[ì›ë³¸ í…ìŠ¤íŠ¸]
{documents_text}
"""


# í†µí•© íšŒì˜ë¡ ìƒì„± í”„ë¡¬í”„íŠ¸ (2ë‹¨ê³„: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ â†’ íšŒì˜ë¡)
SUMMARY_PROMPT = """ë‹¹ì‹ ì€ ì—…ë¬´ì¼ì§€ë¥¼ ë¶„ì„í•˜ì—¬ ì´í•´í•˜ê¸° ì‰¬ìš´ íšŒì˜ë¡ì„ ìž‘ì„±í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.

[í•µì‹¬ ì›ì¹™]
1. **ë‹´ë‹¹ìž ì´ë¦„ ì ˆëŒ€ ê¸ˆì§€**: ì—…ë¬´ ë‚´ìš©ì— (í™ê¸¸ë™), (ê¹€ì² ìˆ˜) ë“± ì´ë¦„ ì ˆëŒ€ í‘œì‹œ ê¸ˆì§€
2. **ì‰¬ìš´ í‘œí˜„**: ì „ë¬¸ ìš©ì–´ë¥¼ ì¼ë°˜ì¸ë„ ì´í•´í•  ìˆ˜ ìžˆê²Œ í’€ì–´ì„œ ì„¤ëª…
3. **ì ì ˆí•œ ìƒì„¸í•¨**: ë„ˆë¬´ ê°„ëžµí•˜ì§€ ì•Šê²Œ, ë¬´ì—‡ì„ í–ˆëŠ”ì§€ ëª…í™•ížˆ ì´í•´ë˜ë„ë¡ ìž‘ì„±
4. **í”„ë¡œì íŠ¸ í†µí•©**: ê´€ë ¨ ì—…ë¬´ëŠ” ê°™ì€ í”„ë¡œì íŠ¸ ì•„ëž˜ í†µí•©

[í”„ë¡œì íŠ¸ ë¶„ë¥˜ ê¸°ì¤€ - ë°˜ë“œì‹œ ì¤€ìˆ˜]
- bright Simple, 4êµ¬ íƒ€ìž…, ë¬´ì„  í’‹, ìŠ¤ì¼€ì¼ëŸ¬ â†’ "1 bright Simple 4êµ¬ ê°œë°œ"
- ì´ì†¡ë¡œë´‡, WebGUI, Display GUI, ë‹¤ì¤‘ë¡œë´‡ â†’ "2 ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡ ê°œë°œ" (GUIëŠ” ì´ì†¡ë¡œë´‡ì˜ ì¼ë¶€!)
- ì¼ë ‰ëª¨í„°, ë“œë¼ì´ë²„, í™€ì„¼ì„œ â†’ "3 í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„ ê°œë°œ"

[ì¶œë ¥ í˜•ì‹]
ê¸ˆì£¼(ì¼ì¼) ì´ìŠˆ ì‚¬í•­

1 bright Simple 4êµ¬ ê°œë°œ(XX%)
  1.1 [ê¸°ëŠ¥ ì¹´í…Œê³ ë¦¬ëª…]
      a [ì—…ë¬´ ë‚´ìš© - ë¬´ì—‡ì„ ì™œ í•˜ëŠ”ì§€ ì´í•´ë˜ê²Œ]
      b [ì—…ë¬´ ë‚´ìš©]
      b.1 [ì„¸ë¶€ ì‚¬í•­ - í•„ìš”ì‹œë§Œ]

2 ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡ ê°œë°œ(XX%)
  2.1 [ê¸°ëŠ¥ ì¹´í…Œê³ ë¦¬ëª…]
      a [ì—…ë¬´ ë‚´ìš©]

â€“ ì´ìƒìž…ë‹ˆë‹¤ â€“

[ìž‘ì„± ê·œì¹™ - ë°˜ë“œì‹œ ì¤€ìˆ˜]

1. **ë‹´ë‹¹ìž ì´ë¦„ ê¸ˆì§€ (ê°€ìž¥ ì¤‘ìš”)**:
   - âŒ ì ˆëŒ€ ê¸ˆì§€: "íŽŒì›¨ì–´ ê²€ì¦ ì‹œìŠ¤í…œ í™˜ê²½ êµ¬ì¶• (ê°•ë¯¼ì„±)"
   - âŒ ì ˆëŒ€ ê¸ˆì§€: "ë¡œë´‡ì„ ìž¥ì• ë¬¼ë¡œ í‘œì‹œ (ì „ìƒë¯¼, ê¹€ìƒì¼)"
   - âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: "íŽŒì›¨ì–´ ê²€ì¦ ì‹œìŠ¤í…œ í™˜ê²½ êµ¬ì¶•"
   - âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: "ë¡œë´‡ì„ ìž¥ì• ë¬¼ë¡œ í‘œì‹œí•˜ì—¬ ì¶©ëŒ ë°©ì§€"

2. **ì „ë¬¸ ìš©ì–´ í’€ì–´ì“°ê¸°**:
   - "íŽŒì›¨ì–´ ê²€ì¦" â†’ "ìž¥ì¹˜ ë‚´ë¶€ í”„ë¡œê·¸ëž¨ í…ŒìŠ¤íŠ¸"
   - "GUI ì¶”ê°€" â†’ "ì‚¬ìš©ìž í™”ë©´ ê¸°ëŠ¥ ì¶”ê°€"
   - "ë””ë²„ê¹…" â†’ "ì˜¤ë¥˜ ìˆ˜ì •"
   - "Aging í…ŒìŠ¤íŠ¸" â†’ "ìž¥ì‹œê°„ ì•ˆì •ì„± í…ŒìŠ¤íŠ¸"
   - "í™€ì„¼ì„œ" â†’ "ëª¨í„° ìœ„ì¹˜ ê°ì§€ ì„¼ì„œ"

3. **ì ì ˆí•œ ìƒì„¸í•¨ ìœ ì§€**:
   - âŒ ë„ˆë¬´ ê°„ëžµ: "ê¸°ëŠ¥ ê°œë°œ"
   - âŒ ë„ˆë¬´ ìž¥í™©: "Python APIë¥¼ ì‚¬ìš©í•˜ì—¬ bright Light2 ë¹„ì ‘ì´‰ ì„¼ì„œì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ì„¼ì„œ ê°’ì˜ í‰ê· ì„ ê·¸ëž˜í”„ë¡œ í‘œì‹œí•˜ë©° ë¬¼ì²´ ì¸ì‹ ì—¬ë¶€ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” GUIë¥¼ ì¶”ê°€í•¨"
   - âœ… ì ì ˆí•¨: "ë¹„ì ‘ì´‰ ì„¼ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ê·¸ëž˜í”„ì™€ ë¬¼ì²´ ì¸ì‹ ìƒíƒœë¥¼ í‘œì‹œí•˜ëŠ” í™”ë©´ ì¶”ê°€"

4. **ì¤‘ë³µ ë‚´ìš© í†µí•©**:
   - ê°™ì€ ì—…ë¬´ê°€ ì—¬ëŸ¬ ë²ˆ ë‚˜ì˜¤ë©´ í•œ ë²ˆë§Œ ê¸°ìˆ 
   - ë¹„ìŠ·í•œ ì—…ë¬´ëŠ” í•˜ë‚˜ì˜ ë¬¸ìž¥ìœ¼ë¡œ í†µí•©

5. **ë²ˆí˜¸ ì²´ê³„**:
   - ëŒ€ë¶„ë¥˜: 1, 2, 3 (í”„ë¡œì íŠ¸)
   - ì¤‘ë¶„ë¥˜: 1.1, 1.2 (ê¸°ëŠ¥ ì¹´í…Œê³ ë¦¬)
   - ì†Œë¶„ë¥˜: a, b, c (ì„¸ë¶€ ì—…ë¬´)
   - ì„¸ë¶€: a.1, b.1 (ì¶”ê°€ ì„¤ëª… í•„ìš”ì‹œ)

6. **ì§„í–‰ë¥  ê³„ì‚°**:
   - ê° í”„ë¡œì íŠ¸ì˜ í‰ê·  ì§„í–‰ë¥ ì„ ê³„ì‚°í•˜ì—¬ í‘œì‹œ
   - ì˜ˆ: 50%, 95%, 97% â†’ í‰ê·  80%

[ì˜¬ë°”ë¥¸ ì˜ˆì‹œ]

1 bright Simple 4êµ¬ ê°œë°œ(80%)
  1.1 ë³´ì™„ ê¸°ëŠ¥ ê°œë°œ
      a ë¬´ì„  ë¦¬ëª¨ì»¨(í’‹)ì˜ ë°°í„°ë¦¬ ì „ì•• ë³€í™”ì— ëŒ€ì‘í•˜ê³ , íŽ˜ì–´ë§ ëª¨ë“œ ì§„ìž… ê¸°ëŠ¥ êµ¬í˜„ ì¤‘
      b ì¼ë ‰ëª¨í„°ì™€ ìŠ¤ì¼€ì¼ëŸ¬ì˜ ì„¤ì •ê°’(ëª¨ë“œ, ê´‘ì›, ë¬¼ ì„¸ê¸°) ì €ìž¥ ê¸°ëŠ¥ ì™„ë£Œ
      c í”„ë¡œê·¸ëž¨ ì—…ë°ì´íŠ¸ ì¤‘ ë²„íŠ¼ ìž…ë ¥ì„ ë§‰ì•„ ì˜¤ìž‘ë™ ë°©ì§€ ê¸°ëŠ¥ ì¶”ê°€
  1.2 ì–‘ì‚° ì¤€ë¹„ ë° ê²€ì¦
      a ìž¥ì¹˜ ë‚´ë¶€ í”„ë¡œê·¸ëž¨ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶• ì§„í–‰ ì¤‘
      b ë¹„ì ‘ì´‰ ì„¼ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ê·¸ëž˜í”„ì™€ ë¬¼ì²´ ì¸ì‹ ìƒíƒœë¥¼ í‘œì‹œí•˜ëŠ” í™”ë©´ ì¶”ê°€

2 ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡ ê°œë°œ(60%)
  2.1 ì¶©ëŒ ë°©ì§€ ê¸°ëŠ¥ ê°œë°œ
      a ë‹¤ë¥¸ ë¡œë´‡ì„ ìž¥ì• ë¬¼ë¡œ ì¸ì‹í•˜ì—¬ ìžë™ íšŒí”¼í•˜ëŠ” ê¸°ëŠ¥ ê°œë°œ ì¤‘
      b ì´ˆìŒíŒŒ ì„¼ì„œì˜ ë…¸ì´ì¦ˆ(ìž¡ìŒ) ë¬¸ì œ ë¶„ì„ ë° ê°œì„  ì§„í–‰
  2.2 ì œì–´ í™”ë©´(GUI) ê°œì„ 
      a ë‹¤ì¤‘ ë¡œë´‡ ì œì–´ìš© ì›¹ í™”ë©´ì˜ ëª©ì ì§€ íŽ¸ì§‘ ê¸°ëŠ¥ ì˜¤ë¥˜ ìˆ˜ì • ì¤‘
      b ê¸´ê¸‰ ì •ì§€ ë²„íŠ¼ ìž‘ë™ ì‹œ ëŒ€ì‘ ì½”ë“œ ìž‘ì„±
  2.3 ì•ˆì •ì„± í…ŒìŠ¤íŠ¸
      a ìµœëŒ€/ìµœì†Œ ì†ë„ì—ì„œ ìž¥ì‹œê°„ ì£¼í–‰ í…ŒìŠ¤íŠ¸ ì§„í–‰

â€“ ì´ìƒìž…ë‹ˆë‹¤ â€“

[ì •ë¦¬ëœ ì—…ë¬´ì¼ì§€]
{cleaned_text}
"""


# ê°ì‚¬ ì¸ì‚¬ ìƒì„± í”„ë¡¬í”„íŠ¸ (3ë‹¨ê³„: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ â†’ ê°ì‚¬ ì¸ì‚¬)
THANKS_PROMPT = """ë‹¤ìŒì€ ì •ë¦¬ëœ íŒ€ì›ë“¤ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ìž…ë‹ˆë‹¤.
ê° íŒ€ì›ì˜ ì—…ë¬´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ê°œì¸ë³„ ê°ì‚¬ ì¸ì‚¬ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[ìš”êµ¬ì‚¬í•­]
1. ê° íŒ€ì›ì˜ êµ¬ì²´ì ì¸ ì—…ë¬´ ë‚´ìš©ì„ ì–¸ê¸‰í•˜ì—¬ ê°œì¸í™”ëœ ë©”ì‹œì§€ ìž‘ì„±
2. ì§„ì‹¬ ì–´ë¦° ê°ì‚¬ì™€ ê²©ë ¤ì˜ ë§ˆìŒ ì „ë‹¬
3. ê° íŒ€ì›ë‹¹ 3-4ë¬¸ìž¥ ì •ë„ë¡œ ìž‘ì„±
4. ë”°ëœ»í•˜ê³  ê²©ë ¤í•˜ëŠ” í†¤ ìœ ì§€
5. ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œë§Œ ìž‘ì„± (ì¤‘êµ­ì–´ ê°„ì²´ìž ì‚¬ìš© ê¸ˆì§€)

[ê°ì‚¬ ì¸ì‚¬ í˜•ì‹]
## íŒ€ì›ë³„ ê°ì‚¬ ì¸ì‚¬

### [íŒ€ì›1 ì´ë¦„]ì”¨ì—ê²Œ
[ê°œì¸í™”ëœ ê°ì‚¬ ë©”ì‹œì§€ - êµ¬ì²´ì ì¸ ì—…ë¬´ ë‚´ìš© ì–¸ê¸‰]

### [íŒ€ì›2 ì´ë¦„]ì”¨ì—ê²Œ
[ê°œì¸í™”ëœ ê°ì‚¬ ë©”ì‹œì§€ - êµ¬ì²´ì ì¸ ì—…ë¬´ ë‚´ìš© ì–¸ê¸‰]

[ì •ë¦¬ëœ ì—…ë¬´ì¼ì§€]
{cleaned_text}
"""


# ê¸°ê°„ë³„ ì„±ê³¼ ë¶„ì„ í”„ë¡¬í”„íŠ¸
PERIOD_ANALYSIS_PROMPT = """ë‹¤ìŒì€ {period_info} ê¸°ê°„ ë™ì•ˆì˜ íŒ€ì›ë³„ ì—…ë¬´ ê¸°ë¡ìž…ë‹ˆë‹¤.
ì´ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ê¸°ê°„ë³„ ì„±ê³¼ ë³´ê³ ì„œë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[ë¶„ì„ í•­ëª©]
1. ì£¼ìš” ì„±ê³¼ ìš”ì•½
   - ê¸°ê°„ ë‚´ ì™„ë£Œëœ ì£¼ìš” ì—…ë¬´
   - ì§„í–‰ ì¤‘ì¸ í•µì‹¬ í”„ë¡œì íŠ¸ í˜„í™©
   
2. íŒ€ì›ë³„ ê¸°ì—¬ë„ ë¶„ì„
   - ê° íŒ€ì›ì˜ ì£¼ìš” ì—…ë¬´ ë° ì„±ê³¼
   - ì—…ë¬´ ì§‘ì¤‘ë„ê°€ ë†’ì€ ì˜ì—­
   
3. í”„ë¡œì íŠ¸ë³„ ì§„í–‰ í˜„í™©
   - í”„ë¡œì íŠ¸ë³„ ì§„í–‰ë¥  ë° ìƒíƒœ
   - ì§€ì—°ë˜ê±°ë‚˜ ì£¼ì˜ê°€ í•„ìš”í•œ í•­ëª©
   
4. í–¥í›„ ê³„íš ë° ì œì–¸
   - ë‹¤ìŒ ê¸°ê°„ì— ì§‘ì¤‘í•´ì•¼ í•  ì—…ë¬´
   - ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„
   - ìš°ì„ ìˆœìœ„ ë†’ì€ ìž‘ì—… ì¶”ì²œ

[ì¶œë ¥ í˜•ì‹]
================================================================================
                    ê¸°ê°„ë³„ ì„±ê³¼ ë¶„ì„ ë³´ê³ ì„œ
                    {period_info}
================================================================================

â–  1. ì£¼ìš” ì„±ê³¼ ìš”ì•½
--------------------------------------------------------------------------------
[ì™„ë£Œëœ ì£¼ìš” ì—…ë¬´ ëª©ë¡]
[ì§„í–‰ ì¤‘ì¸ í•µì‹¬ í”„ë¡œì íŠ¸]

â–  2. íŒ€ì›ë³„ ê¸°ì—¬ë„
--------------------------------------------------------------------------------
[íŒ€ì›1]
- ì£¼ìš” ì—…ë¬´:
- ì„±ê³¼:

[íŒ€ì›2]
...

â–  3. í”„ë¡œì íŠ¸ë³„ í˜„í™©
--------------------------------------------------------------------------------
[í”„ë¡œì íŠ¸1] (ì§„í–‰ë¥ %)
- ìƒíƒœ:
- ì£¼ìš” ì§„ì²™:

â–  4. í–¥í›„ ê³„íš ë° ì œì–¸
--------------------------------------------------------------------------------
[ë‹¤ìŒ ê¸°ê°„ ì§‘ì¤‘ ì—…ë¬´]
[ê°œì„  í•„ìš” ì‚¬í•­]
[ìš°ì„ ìˆœìœ„ ìž‘ì—… ì¶”ì²œ]

================================================================================

[ì—…ë¬´ ë°ì´í„°]
{tasks_text}
"""


# ê°œë°œ í˜„í™© ìƒì„± í”„ë¡¬í”„íŠ¸ (4ë‹¨ê³„: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ â†’ ê°œë°œ í˜„í™©)
DEVSTATUS_PROMPT = """ë‹¤ìŒì€ ì •ë¦¬ëœ íŒ€ì›ë“¤ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ìž…ë‹ˆë‹¤.

ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì˜¤ì „/ì˜¤í›„ ê°œë°œ í˜„í™© ê³µìœ  ë©”ì‹œì§€ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[ìž‘ì„± ê·œì¹™]
1. ì „ì²´ ë¬¸ë§¥ì„ ì´í•´í•˜ê³  ìš”ì•½í•˜ì—¬ ìž‘ì„±(ë‹´ë‹¹ìž ë¶ˆí•„ìš”)
2. íŒ€ ì „ì²´ì˜ ì—…ë¬´ë¥¼ í”„ë¡œì íŠ¸ë³„ë¡œ í†µí•©í•˜ì—¬ ì •ë¦¬
3. ë²ˆí˜¸ ì²´ê³„: ëŒ€ë¶„ë¥˜(1, 2), ì†Œë¶„ë¥˜(1.1, 1.2) í˜•ì‹
4. ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œë§Œ ìž‘ì„±
5. í•µì‹¬ ì—…ë¬´ ë‚´ìš©ì—ì„œ í”„ë¡œì íŠ¸ ì´ë¦„ ì œê±°

[ì¶œë ¥ í˜•ì‹]
================================================================================
                         â˜€ï¸ ê°œë°œí˜„í™©
================================================================================

ì•ˆë…•í•˜ì„¸ìš” ì§„ë£Œìž¥ë¹„ì‚¬ì—…ë¶€ íŽŒì›¨ì–´íŒ€

ì˜¤ì „/ì˜¤í›„ ê°œë°œí˜„í™© íŒ€ ë‚´ ê³µìœ  ë“œë¦½ë‹ˆë‹¤	

1 [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜1]
  1.1 [í•µì‹¬ ì—…ë¬´ ë‚´ìš© - ìƒì„¸]
  1.2 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]
  1.3 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]

2 [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜2]
  2.1 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]
  2.2 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]

================================================================================

[ìž‘ì„± ì§€ì¹¨]
- ê° í•­ëª©ì€ í•œ ì¤„ë¡œ ìš”ì•½
- ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ë³´ë‹¤ ì—…ë¬´ ì§„í–‰ ìƒí™© ì¤‘ì‹¬

[ì •ë¦¬ëœ ì—…ë¬´ì¼ì§€]
{cleaned_text}
"""


# í”„ë¡œì íŠ¸ ì¶”ì²œ í”„ë¡¬í”„íŠ¸
PROJECT_RECOMMEND_PROMPT = """ë‹¤ìŒì€ í˜„ìž¬ ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ë“¤ì˜ ìƒíƒœìž…ë‹ˆë‹¤.
ì´ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ í•  ì¼ê³¼ ìš°ì„ ìˆœìœ„ë¥¼ ì¶”ì²œí•´ì£¼ì„¸ìš”.

[ë¶„ì„ í•­ëª©]
1. í”„ë¡œì íŠ¸ë³„ ìƒíƒœ í‰ê°€
   - ì§„í–‰ë¥  ëŒ€ë¹„ ëª©í‘œì¼ ë¶„ì„
   - ì¼ì • ìœ„í—˜ë„ í‰ê°€ (ì •ìƒ/ì£¼ì˜/ìœ„í—˜)
   
2. ìš°ì„ ìˆœìœ„ ì¡°ì • ì œì•ˆ
   - í˜„ìž¬ ìš°ì„ ìˆœìœ„ì˜ ì ì ˆì„± í‰ê°€
   - ì¡°ì •ì´ í•„ìš”í•œ ê²½ìš° ê·¼ê±°ì™€ í•¨ê»˜ ì œì•ˆ
   
3. ë‹¤ìŒì— í•´ì•¼ í•  ìž‘ì—… ì¶”ì²œ
   - í”„ë¡œì íŠ¸ë³„ êµ¬ì²´ì ì¸ ë‹¤ìŒ ë‹¨ê³„
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„
   
4. ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ ë°©ì•ˆ
   - ì§€ì—° ê°€ëŠ¥ì„±ì´ ìžˆëŠ” í”„ë¡œì íŠ¸
   - ë¦¬ì†ŒìŠ¤ ë¶€ì¡± ì˜ˆìƒ ì˜ì—­
   - ëŒ€ì‘ ì „ëžµ ì œì•ˆ

[ì¶œë ¥ í˜•ì‹]
================================================================================
                    ðŸ“Š í”„ë¡œì íŠ¸ ë¶„ì„ ë° ì¶”ì²œ
================================================================================

â–  1. í”„ë¡œì íŠ¸ë³„ ìƒíƒœ í‰ê°€
--------------------------------------------------------------------------------
[í”„ë¡œì íŠ¸1] - ìƒíƒœ: ðŸŸ¢ì •ìƒ / ðŸŸ¡ì£¼ì˜ / ðŸ”´ìœ„í—˜
â€¢ í˜„ìž¬ ì§„í–‰ë¥ : X% (ëª©í‘œ ëŒ€ë¹„ +/-Y%)
â€¢ ì¼ì • ë¶„ì„: 
â€¢ í‰ê°€:

â–  2. ìš°ì„ ìˆœìœ„ ì¡°ì • ì œì•ˆ
--------------------------------------------------------------------------------
í˜„ìž¬ ìš°ì„ ìˆœìœ„ â†’ ì œì•ˆ ìš°ì„ ìˆœìœ„
[í”„ë¡œì íŠ¸ëª…]: ë³´í†µ â†’ ë†’ìŒ (ì‚¬ìœ : ...)

â–  3. ë‹¤ìŒ í•  ì¼ ì¶”ì²œ
--------------------------------------------------------------------------------
ðŸ”¥ ê¸´ê¸‰ (ì´ë²ˆ ì£¼ ì™„ë£Œ í•„ìš”)
1. [í”„ë¡œì íŠ¸] - [êµ¬ì²´ì ì¸ ìž‘ì—…] (ì˜ˆìƒ Nì‹œê°„)

ðŸ“Œ ì¤‘ìš” (ì´ë²ˆ ë‹¬ ë‚´)
1. [í”„ë¡œì íŠ¸] - [êµ¬ì²´ì ì¸ ìž‘ì—…]

ðŸ“‹ ì¼ë°˜
1. [í”„ë¡œì íŠ¸] - [êµ¬ì²´ì ì¸ ìž‘ì—…]

â–  4. ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ ë°©ì•ˆ
--------------------------------------------------------------------------------
âš ï¸ [ìœ„í—˜ ìš”ì†Œ 1]
â€¢ ì˜í–¥ í”„ë¡œì íŠ¸:
â€¢ ëŒ€ì‘ ë°©ì•ˆ:

================================================================================

[í”„ë¡œì íŠ¸ í˜„í™© ë°ì´í„°]
{project_data}
"""


# === í”„ë¡¬í”„íŠ¸ ì¡°íšŒ í•¨ìˆ˜ ===

def get_prompt(prompt_type: str, include_examples: bool = True) -> str:
    """
    í”„ë¡¬í”„íŠ¸ ë°˜í™˜ (ì‚¬ìš©ìž ì„¤ì • ìš°ì„ , ì—†ìœ¼ë©´ ê¸°ë³¸ê°’)
    ì˜ˆì œê°€ ë“±ë¡ë˜ì–´ ìžˆìœ¼ë©´ {examples} í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì˜ˆì œë¡œ ëŒ€ì²´
    
    Args:
        prompt_type: "cleaning", "summary", "thanks", "devstatus" ì¤‘ í•˜ë‚˜
        include_examples: Trueë©´ {examples} í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì˜ˆì œë¡œ ëŒ€ì²´
        
    Returns:
        í”„ë¡¬í”„íŠ¸ ë¬¸ìžì—´ (ì˜ˆì œ í¬í•¨)
    """
    # ìˆœí™˜ ìž„í¬íŠ¸ ë°©ì§€ë¥¼ ìœ„í•´ í•¨ìˆ˜ ë‚´ì—ì„œ ìž„í¬íŠ¸
    from ..utils.settings_manager import get_settings
    
    settings = get_settings()
    
    # ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë§¤í•‘
    default_prompts = {
        "cleaning": CLEANING_PROMPT,
        "summary": SUMMARY_PROMPT,
        "thanks": THANKS_PROMPT,
        "devstatus": DEVSTATUS_PROMPT,
        "period_analysis": PERIOD_ANALYSIS_PROMPT,
        "project_recommend": PROJECT_RECOMMEND_PROMPT,
    }
    
    # ì‚¬ìš©ìž í”„ë¡¬í”„íŠ¸ ì¡°íšŒ
    user_prompts = settings.get_all_prompts()
    user_prompt = user_prompts.get(prompt_type, "")
    
    # ì‚¬ìš©ìž í”„ë¡¬í”„íŠ¸ê°€ ìžˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ê¸°ë³¸ê°’
    if user_prompt and user_prompt.strip():
        prompt = user_prompt
    else:
        prompt = default_prompts.get(prompt_type, "")
    
    # ì˜ˆì œ ì°¸ì¡° ì²˜ë¦¬
    if include_examples and "{examples}" in prompt:
        user_examples = settings.get_all_examples()
        example = user_examples.get(prompt_type, "")
        
        if example and example.strip():
            # ì˜ˆì œê°€ ìžˆìœ¼ë©´ í”Œë ˆì´ìŠ¤í™€ë” ëŒ€ì²´
            prompt = prompt.replace("{examples}", example)
        else:
            # ì˜ˆì œê°€ ì—†ìœ¼ë©´ í”Œë ˆì´ìŠ¤í™€ë” ì œê±°
            prompt = prompt.replace("{examples}", "")
    
    return prompt


def get_example(prompt_type: str) -> str:
    """
    ì˜ˆì œ ë°˜í™˜
    
    Args:
        prompt_type: "cleaning", "summary", "thanks", "devstatus" ì¤‘ í•˜ë‚˜
        
    Returns:
        ì˜ˆì œ ë¬¸ìžì—´ (ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìžì—´)
    """
    from ..utils.settings_manager import get_settings
    
    settings = get_settings()
    user_examples = settings.get_all_examples()
    return user_examples.get(prompt_type, "")


def get_default_prompt(prompt_type: str) -> str:
    """
    ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë°˜í™˜ (í•­ìƒ ì½”ë“œì— ì •ì˜ëœ ê¸°ë³¸ê°’)
    
    Args:
        prompt_type: "cleaning", "summary", "thanks", "devstatus", "period_analysis", "project_recommend" ì¤‘ í•˜ë‚˜
        
    Returns:
        ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë¬¸ìžì—´
    """
    default_prompts = {
        "cleaning": CLEANING_PROMPT,
        "summary": SUMMARY_PROMPT,
        "thanks": THANKS_PROMPT,
        "devstatus": DEVSTATUS_PROMPT,
        "period_analysis": PERIOD_ANALYSIS_PROMPT,
        "project_recommend": PROJECT_RECOMMEND_PROMPT,
    }
    return default_prompts.get(prompt_type, "")


def get_all_default_prompts() -> Dict[str, str]:
    """ëª¨ë“  ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë°˜í™˜"""
    return {
        "cleaning": CLEANING_PROMPT,
        "summary": SUMMARY_PROMPT,
        "thanks": THANKS_PROMPT,
        "devstatus": DEVSTATUS_PROMPT,
        "period_analysis": PERIOD_ANALYSIS_PROMPT,
        "project_recommend": PROJECT_RECOMMEND_PROMPT,
    }

