"""
AI í”„ë¡¬í”„íŠ¸ ì„¤ì •
ì—…ë¬´ì¼ì§€ ë¶„ì„ì„ ìœ„í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì„ ì •ì˜í•©ë‹ˆë‹¤.
"""

from typing import Dict


# ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (AI ì—­í•  ì •ì˜)
SYSTEM_PROMPT = """ë‹¹ì‹ ì€ FWíŒ€ì˜ ì—…ë¬´ì¼ì§€ë¥¼ ë¶„ì„í•˜ê³  ì •ë¦¬í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.
ì •í™•í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ì—…ë¬´ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©°, í•­ìƒ í•œêµ­ì–´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.
ì¤‘êµ­ì–´ ê°„ì²´ìžëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."""


# í…ìŠ¤íŠ¸ ì •ë¦¬ í”„ë¡¬í”„íŠ¸ (1ë‹¨ê³„: ì›ë³¸ í…ìŠ¤íŠ¸ â†’ ì •ë¦¬ëœ í…ìŠ¤íŠ¸)
CLEANING_PROMPT = """ë‹¤ìŒì€ íŒ€ì›ë“¤ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ ì›ë³¸ í…ìŠ¤íŠ¸ìž…ë‹ˆë‹¤.
ì—…ë¬´ì¼ì§€ êµ¬ì¡°ë¥¼ ì •í™•ížˆ íŒŒì•…í•˜ì—¬ ì•„ëž˜ [ì¶œë ¥ í˜•ì‹]ì— ë§žì¶° ì •ë¦¬í•´ì£¼ì„¸ìš”.

[ì—…ë¬´ì¼ì§€ ì›ë³¸ êµ¬ì¡° - ë°˜ë“œì‹œ ì´í•´í•  ê²ƒ]
ê° íŒ€ì›ì˜ ì—…ë¬´ì¼ì§€ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í‘œ êµ¬ì¡°ìž…ë‹ˆë‹¤:
- í—¤ë”: "FWíŒ€ [íŒ€ì›ëª…]" + "ì¼ìž: YYYY.MM.DD"
- ë¶„ë¥˜ ì—´: "ê¸ˆì¼ì—…ë¬´" ë˜ëŠ” "ìµì¼ì—…ë¬´"
- êµ¬ë¶„ ì—´: í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜ (ì˜ˆ: "Unit Chair bright Simple", "í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„")
- ìƒì„¸ë‚´ìš© ì—´: í”„ë¡œì íŠ¸ë³„ ì„¸ë¶€ ì—…ë¬´ (ë²ˆí˜¸, ëª©ì , Action ë“±)
- ìˆ˜ì¹˜ ì—´: ê³„íš(H), ë‹¬ì„±(H), ê³„íš(%), ë‹¬ì„±(%)

[í•µì‹¬ ì§€ì¹¨ - ë°˜ë“œì‹œ ì¤€ìˆ˜]
1. **ê¸ˆì¼ì—…ë¬´ë§Œ ì¶”ì¶œ**: "ë¶„ë¥˜"ê°€ "ê¸ˆì¼ì—…ë¬´"ì¸ í–‰ë§Œ ì¶”ì¶œ. "ìµì¼ì—…ë¬´"ëŠ” ì™„ì „ížˆ ë¬´ì‹œ!
2. **êµ¬ë¶„ ì—´ë¡œ í”„ë¡œì íŠ¸ ë¶„ë¥˜**: "êµ¬ë¶„" ì—´ì˜ ê°’ì´ í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜ëª…ìž…ë‹ˆë‹¤.
   - ì˜ˆ: "Unit Chair bright Simple" â†’ í”„ë¡œì íŠ¸ëª…: "bright Simple"
   - ì˜ˆ: "í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„ ê°œë°œ" â†’ í”„ë¡œì íŠ¸ëª…: "í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„"
3. **ëª¨ë“  íŒ€ì› ì´ë¦„ ì¶”ì¶œ**: ë¬¸ì„œì—ì„œ "FWíŒ€ [ì´ë¦„]" íŒ¨í„´ì˜ ëª¨ë“  íŒ€ì› ì´ë¦„ì„ ì¶”ì¶œ
4. **ì§„í–‰ë¥  ì¶”ì¶œ**: ê³„íš(%)ê³¼ ë‹¬ì„±(%) ìˆ˜ì¹˜ë¥¼ ì •í™•ížˆ ì¶”ì¶œ
5. ì¤‘êµ­ì–´ ê°„ì²´ìžëŠ” í•œêµ­ì–´ë¡œ ë³€í™˜

[í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜ ê¸°ì¤€]
ë‹¤ìŒ í‚¤ì›Œë“œë¡œ í”„ë¡œì íŠ¸ë¥¼ ë¶„ë¥˜í•˜ì„¸ìš”:
- "bright Simple" ë˜ëŠ” "Unit Chair" â†’ [bright Simple]
- "ì´ì†¡ë¡œë´‡" ë˜ëŠ” "WebGUI" ë˜ëŠ” "Display GUI" â†’ [ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡]
- "ì¼ë ‰ëª¨í„°" ë˜ëŠ” "ë“œë¼ì´ë²„" â†’ [í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„]
- ê¸°íƒ€ â†’ ì›ë³¸ êµ¬ë¶„ëª… ìœ ì§€

[ì¶œë ¥ í˜•ì‹]
########## íŒ€ì› ëª©ë¡ ##########
[íŒ€ì›1 ì´ë¦„], [íŒ€ì›2 ì´ë¦„], [íŒ€ì›3 ì´ë¦„], ...

########## [íŒ€ì› ì´ë¦„] (YYYY.MM.DD) ##########

[í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜: bright Simple]
â€¢ ì„¸ë¶€ í”„ë¡œì íŠ¸: [ìƒì„¸ë‚´ìš©ì˜ í”„ë¡œì íŠ¸ëª…]
â€¢ ëª©ì : [ëª©ì ]
â€¢ Action:
  - [Action í•­ëª© 1]
  - [Action í•­ëª© 2]
â€¢ ì§„í–‰ë¥ : ê³„íš OO% / ë‹¬ì„± OO%

[í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜: ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡]
â€¢ ì„¸ë¶€ í”„ë¡œì íŠ¸: [ìƒì„¸ë‚´ìš©ì˜ í”„ë¡œì íŠ¸ëª…]
â€¢ ëª©ì : [ëª©ì ]
â€¢ Action:
  - [Action í•­ëª©]
â€¢ ì§„í–‰ë¥ : ê³„íš OO% / ë‹¬ì„± OO%

########## [ë‹¤ìŒ íŒ€ì› ì´ë¦„] (YYYY.MM.DD) ##########
... (ë°˜ë³µ)

[ì›ë³¸ í…ìŠ¤íŠ¸]
{documents_text}
"""


# í†µí•© íšŒì˜ë¡ ìƒì„± í”„ë¡¬í”„íŠ¸ (2ë‹¨ê³„: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ â†’ íšŒì˜ë¡)
SUMMARY_PROMPT = """ë‹¤ìŒì€ ì •ë¦¬ëœ íŒ€ì›ë“¤ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ìž…ë‹ˆë‹¤.
ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì•„ëž˜ [íšŒì˜ë¡ ì–‘ì‹]ì— ë§žì¶° í†µí•© íšŒì˜ë¡ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[í•µì‹¬ ì§€ì¹¨ - ë°˜ë“œì‹œ ì¤€ìˆ˜]
1. **ì°¸ì„ìž**: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ ìƒë‹¨ì˜ "íŒ€ì› ëª©ë¡"ì—ì„œ ëª¨ë“  ì´ë¦„ì„ ì¶”ì¶œí•˜ì—¬ ì°¸ì„ìžì— ê¸°ìž¬
2. **í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜ ê¸°ì¤€ í†µí•©**: 
   - [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜: bright Simple] â†’ "1 bright Simple ê°œë°œ"ë¡œ í†µí•©
   - [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜: ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡] â†’ "2 ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡ ê°œë°œ"ë¡œ í†µí•©
   - [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜: í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„] â†’ "3 í†µí•©í˜• ì¼ë ‰ëª¨í„° ë“œë¼ì´ë²„ ê°œë°œ"ë¡œ í†µí•©
3. **ê°™ì€ í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ë¡œ**: ì—¬ëŸ¬ íŒ€ì›ì˜ ê°™ì€ í”„ë¡œì íŠ¸ ì—…ë¬´ë¥¼ í•˜ë‚˜ë¡œ í•©ì¹¨
4. **ë‹´ë‹¹ìž/ëª©í‘œì¼ìž**: ê° í”„ë¡œì íŠ¸ ë§¨ ë§ˆì§€ë§‰ì— í•œ ë²ˆë§Œ (í•´ë‹¹ í”„ë¡œì íŠ¸ ì°¸ì—¬ íŒ€ì› ëª¨ë‘ ë‚˜ì—´)
5. **ì§„í–‰ë¥ **: ëŒ€ë¶„ë¥˜ í”„ë¡œì íŠ¸ì—ë§Œ ì „ì²´ í‰ê·  ì§„í–‰ë¥  1ê°œë§Œ í‘œì‹œ (ì„¸ë¶€ ê¸°ëŠ¥/ì—…ë¬´ì—ëŠ” ì§„í–‰ë¥  í‘œì‹œ ê¸ˆì§€)

[íšŒì˜ë¡ ì–‘ì‹]
================================================================================
                              íšŒ   ì˜   ë¡
--------------------------------------------------------------------------------
íšŒì˜ì£¼ì œ: ì§„ë£Œìž¥ë¹„ì‚¬ì—…ë¶€ íŽŒì›¨ì–´íŒ€ ì¼ì¼ íšŒì˜
íšŒì˜ì¼ìž: YYYY.MM.DD
íšŒì˜ìž¥ì†Œ: 5ì¸µ ì§„ë£Œìž¥ë¹„ì‚¬ì—…ë¶€
ì°¸ ì„ ìž: [íŒ€ì› ëª©ë¡ì˜ ëª¨ë“  ì´ë¦„ - ë°˜ë“œì‹œ ì „ì› ê¸°ìž¬]
================================================================================

â–  íšŒì˜ë‚´ìš©
--------------------------------------------------------------------------------
ê¸ˆì£¼(ì¼ì¼) ì´ìŠˆ ì‚¬í•­

1 bright Simple ê°œë°œ (ì§„í–‰ë¥ %)
  1.1 ì–‘ì‚° ì´ê´€ ì¤€ë¹„
      a ì–‘ì‚°ìš© ë””ìŠ¤í”Œë ˆì´ ìµœì¢…ë³¸ ì¤€ë¹„
      b USB, QR ì—…ë°ì´íŠ¸ ì ìš©
  1.2 ë¦¬ë¯¸íŠ¸ ì¸ì‹ ê°œì„ 
      a ê°€ë³€ ì €í•­ ê³ ìž¥ì‹œ ë¦¬ë¯¸íŠ¸ ì¸ì‹ ë¶ˆê°€ ê°œì„  ê²€ì¦
  ëª©í‘œì¼ìž: YY.MM.DD (ë˜ëŠ” "ì¶”í›„ í˜‘ì˜")
  ë‹´ë‹¹ìž: [í•´ë‹¹ í”„ë¡œì íŠ¸ ì°¸ì—¬ íŒ€ì› ì „ì›]

2 ì¹˜ê³¼ìš© ì´ì†¡ë¡œë´‡ ê°œë°œ (ì§„í–‰ë¥ %)
  2.1 ë‹¤ì¤‘ë¡œë´‡ ì œì–´
      a ì£¼í–‰ì¤‘ì¸ ë¡œë´‡ ë¶€ë”ªì¹¨ ë°©ì§€ ê¸°ëŠ¥ êµ¬í˜„
  2.2 ì‹œìŠ¤í…œ ì•ˆì •í™”
      a Web GUI ì—°ë™ í†µì‹ ì„œë²„ ë°ì´í„° ì¶”ê°€
  ëª©í‘œì¼ìž: YY.MM.DD
  ë‹´ë‹¹ìž: [í•´ë‹¹ í”„ë¡œì íŠ¸ ì°¸ì—¬ íŒ€ì› ì „ì›]

                              - ì´ìƒìž…ë‹ˆë‹¤ -
================================================================================

[ìž‘ì„± ê·œì¹™ - í•„ìˆ˜]
1. í”„ë¡œì íŠ¸ í†µí•© (ê°€ìž¥ ì¤‘ìš”):
   - "í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜"ê°€ ê°™ìœ¼ë©´ ë¬´ì¡°ê±´ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¡œ í†µí•©
   - íŒ€ì›ë³„ë¡œ ë¶„ë¦¬í•˜ì§€ ì•Šê³ , í”„ë¡œì íŠ¸ë³„ë¡œ ëª¨ë“  ì—…ë¬´ë¥¼ í•©ì¹¨
   - bright Simple ê´€ë ¨ì€ ëª¨ë‘ 1ë²ˆìœ¼ë¡œ, ì´ì†¡ë¡œë´‡ ê´€ë ¨ì€ ëª¨ë‘ 2ë²ˆìœ¼ë¡œ
   
2. ë²ˆí˜¸ ì²´ê³„:
   - ëŒ€ë¶„ë¥˜ í”„ë¡œì íŠ¸: 1, 2, 3 (ìµœëŒ€ 3~4ê°œ)
   - ì„¸ë¶€ ê¸°ëŠ¥: 1.1, 1.2, 1.3... 
   - ìƒì„¸ ì—…ë¬´: a, b, c, d...

3. ì„¸ë¶€ ê¸°ëŠ¥ëª… ìž‘ì„± (ì¤‘ìš”):
   - í”„ë¡œì íŠ¸ ì´ë¦„ ì¤‘ë³µ ì œê±°: "bright simple ì–‘ì‚° ì´ê´€ ì¤€ë¹„" â†’ "ì–‘ì‚° ì´ê´€ ì¤€ë¹„"
   - ì œí’ˆëª…/í”„ë¡œì íŠ¸ëª… ì œê±°: "bright Chair2 ë¦¬ë¯¸íŠ¸ ì¸ì‹" â†’ "ë¦¬ë¯¸íŠ¸ ì¸ì‹ ê°œì„ "
   - í•µì‹¬ ê¸°ëŠ¥ë§Œ ê°„ê²°í•˜ê²Œ í‘œí˜„

4. ì—…ë¬´ ë‚´ìš© ìž‘ì„± (ê°€ìž¥ ì¤‘ìš” - ë°˜ë“œì‹œ ì¤€ìˆ˜):
   - ì ˆëŒ€ë¡œ ë‹´ë‹¹ìž ì´ë¦„ì„ ì—…ë¬´ ë‚´ìš©ì— í¬í•¨í•˜ì§€ ì•ŠìŒ
   - ìž˜ëª»ëœ ì˜ˆ: "ì–‘ì‚°ìš© ë””ìŠ¤í”Œë ˆì´ ìµœì¢…ë³¸ ì¤€ë¹„ (ê¹€ì¢…ë¯¼)"
   - ì˜¬ë°”ë¥¸ ì˜ˆ: "ì–‘ì‚°ìš© ë””ìŠ¤í”Œë ˆì´ ìµœì¢…ë³¸ ì¤€ë¹„"
   - ê°œë³„ ì§„í–‰ë¥  ì œê±°: "ê³„íš â—‹â—‹% / ë‹¬ì„± â—‹â—‹%" ì‚­ì œ
   - ì—…ë¬´ ë‚´ìš©ë§Œ ê°„ê²°í•˜ê²Œ ê¸°ìˆ  (ê´„í˜¸ ì•ˆ ì´ë¦„ ê¸ˆì§€)

5. ë‹´ë‹¹ìž:
   - ê° í”„ë¡œì íŠ¸ ë§¨ ë§ˆì§€ë§‰ "ë‹´ë‹¹ìž:" ì¤„ì—ë§Œ í•œ ë²ˆ ê¸°ìž¬
   - í•´ë‹¹ ëŒ€ë¶„ë¥˜ í”„ë¡œì íŠ¸ì— ì—…ë¬´ê°€ ìžˆëŠ” ëª¨ë“  íŒ€ì› ì´ë¦„ì„ ë‚˜ì—´
   - ì˜ˆ: "ë‹´ë‹¹ìž: ê¹€ì¢…ë¯¼, ê°•ë¯¼ì„±, í•œìƒì² "
   - ê°œë³„ ì—…ë¬´(a, b, c)ì—ëŠ” ì´ë¦„ í‘œì‹œ ê¸ˆì§€

6. ì°¸ì„ìž:
   - ë°˜ë“œì‹œ íŒ€ì› ëª©ë¡ì˜ ëª¨ë“  ì´ë¦„ì„ ê¸°ìž¬ (ëˆ„ë½ ê¸ˆì§€)

[ì •ë¦¬ëœ ì—…ë¬´ì¼ì§€]
{cleaned_text}
"""


# ê°ì‚¬ ì¸ì‚¬ ìƒì„± í”„ë¡¬í”„íŠ¸ (3ë‹¨ê³„: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ â†’ ê°ì‚¬ ì¸ì‚¬)
THANKS_PROMPT = """ë‹¤ìŒì€ ì •ë¦¬ëœ íŒ€ì›ë“¤ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ìž…ë‹ˆë‹¤.
ê° íŒ€ì›ì˜ ì—…ë¬´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ê°œì¸ë³„ ê°ì‚¬ ì¸ì‚¬ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[ìš”êµ¬ì‚¬í•­]
1. ê° íŒ€ì›ì˜ êµ¬ì²´ì ì¸ ì—…ë¬´ ë‚´ìš©ì„ ì–¸ê¸‰í•˜ì—¬ ê°œì¸í™”ëœ ë©”ì‹œì§€ ìž‘ì„±
2. ì§„ì‹¬ ì–´ë¦° ê°ì‚¬ì™€ ê²©ë ¤ì˜ ë§ˆìŒ ì „ë‹¬
3. ê° íŒ€ì›ë‹¹ 3-4ë¬¸ìž¥ ì •ë„ë¡œ ìž‘ì„±
4. ë”°ëœ»í•˜ê³  ê²©ë ¤í•˜ëŠ” í†¤ ìœ ì§€
5. ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œë§Œ ìž‘ì„± (ì¤‘êµ­ì–´ ê°„ì²´ìž ì‚¬ìš© ê¸ˆì§€)

[ê°ì‚¬ ì¸ì‚¬ í˜•ì‹]
## íŒ€ì›ë³„ ê°ì‚¬ ì¸ì‚¬

### [íŒ€ì›1 ì´ë¦„]ë‹˜ê»˜
[ê°œì¸í™”ëœ ê°ì‚¬ ë©”ì‹œì§€ - êµ¬ì²´ì ì¸ ì—…ë¬´ ë‚´ìš© ì–¸ê¸‰]

### [íŒ€ì›2 ì´ë¦„]ë‹˜ê»˜
[ê°œì¸í™”ëœ ê°ì‚¬ ë©”ì‹œì§€ - êµ¬ì²´ì ì¸ ì—…ë¬´ ë‚´ìš© ì–¸ê¸‰]

[ì •ë¦¬ëœ ì—…ë¬´ì¼ì§€]
{cleaned_text}
"""


# ê¸°ê°„ë³„ ì„±ê³¼ ë¶„ì„ í”„ë¡¬í”„íŠ¸
PERIOD_ANALYSIS_PROMPT = """ë‹¤ìŒì€ {period_info} ê¸°ê°„ ë™ì•ˆì˜ íŒ€ì›ë³„ ì—…ë¬´ ê¸°ë¡ìž…ë‹ˆë‹¤.
ì´ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ê¸°ê°„ë³„ ì„±ê³¼ ë³´ê³ ì„œë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[ë¶„ì„ í•­ëª©]
1. ì£¼ìš” ì„±ê³¼ ìš”ì•½
   - ê¸°ê°„ ë‚´ ì™„ë£Œëœ ì£¼ìš” ì—…ë¬´
   - ì§„í–‰ ì¤‘ì¸ í•µì‹¬ í”„ë¡œì íŠ¸ í˜„í™©
   
2. íŒ€ì›ë³„ ê¸°ì—¬ë„ ë¶„ì„
   - ê° íŒ€ì›ì˜ ì£¼ìš” ì—…ë¬´ ë° ì„±ê³¼
   - ì—…ë¬´ ì§‘ì¤‘ë„ê°€ ë†’ì€ ì˜ì—­
   
3. í”„ë¡œì íŠ¸ë³„ ì§„í–‰ í˜„í™©
   - í”„ë¡œì íŠ¸ë³„ ì§„í–‰ë¥  ë° ìƒíƒœ
   - ì§€ì—°ë˜ê±°ë‚˜ ì£¼ì˜ê°€ í•„ìš”í•œ í•­ëª©
   
4. í–¥í›„ ê³„íš ë° ì œì–¸
   - ë‹¤ìŒ ê¸°ê°„ì— ì§‘ì¤‘í•´ì•¼ í•  ì—…ë¬´
   - ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„
   - ìš°ì„ ìˆœìœ„ ë†’ì€ ìž‘ì—… ì¶”ì²œ

[ì¶œë ¥ í˜•ì‹]
================================================================================
                    ê¸°ê°„ë³„ ì„±ê³¼ ë¶„ì„ ë³´ê³ ì„œ
                    {period_info}
================================================================================

â–  1. ì£¼ìš” ì„±ê³¼ ìš”ì•½
--------------------------------------------------------------------------------
[ì™„ë£Œëœ ì£¼ìš” ì—…ë¬´ ëª©ë¡]
[ì§„í–‰ ì¤‘ì¸ í•µì‹¬ í”„ë¡œì íŠ¸]

â–  2. íŒ€ì›ë³„ ê¸°ì—¬ë„
--------------------------------------------------------------------------------
[íŒ€ì›1]
- ì£¼ìš” ì—…ë¬´:
- ì„±ê³¼:

[íŒ€ì›2]
...

â–  3. í”„ë¡œì íŠ¸ë³„ í˜„í™©
--------------------------------------------------------------------------------
[í”„ë¡œì íŠ¸1] (ì§„í–‰ë¥ %)
- ìƒíƒœ:
- ì£¼ìš” ì§„ì²™:

â–  4. í–¥í›„ ê³„íš ë° ì œì–¸
--------------------------------------------------------------------------------
[ë‹¤ìŒ ê¸°ê°„ ì§‘ì¤‘ ì—…ë¬´]
[ê°œì„  í•„ìš” ì‚¬í•­]
[ìš°ì„ ìˆœìœ„ ìž‘ì—… ì¶”ì²œ]

================================================================================

[ì—…ë¬´ ë°ì´í„°]
{tasks_text}
"""


# ê°œë°œ í˜„í™© ìƒì„± í”„ë¡¬í”„íŠ¸ (4ë‹¨ê³„: ì •ë¦¬ëœ í…ìŠ¤íŠ¸ â†’ ì˜¤ì „/ì˜¤í›„ ê°œë°œ í˜„í™©)
DEVSTATUS_PROMPT = """ë‹¤ìŒì€ ì •ë¦¬ëœ íŒ€ì›ë“¤ì˜ ì¼ì¼ ì—…ë¬´ì¼ì§€ìž…ë‹ˆë‹¤.
ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì˜¤ì „/ì˜¤í›„ ê°œë°œ í˜„í™© ê³µìœ  ë©”ì‹œì§€ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

[ìž‘ì„± ê·œì¹™]
1. íŒ€ ì „ì²´ì˜ ì—…ë¬´ë¥¼ í”„ë¡œì íŠ¸ë³„ë¡œ í†µí•©í•˜ì—¬ ì •ë¦¬
2. ì˜¤ì „ í˜„í™©ê³¼ ì˜¤í›„ í˜„í™© ë‘ ê°€ì§€ ë²„ì „ì„ ëª¨ë‘ ìž‘ì„±
3. ê°„ê²°í•˜ê³  ëª…í™•í•˜ê²Œ í•µì‹¬ ë‚´ìš©ë§Œ ê¸°ìˆ 
4. ë²ˆí˜¸ ì²´ê³„: ëŒ€ë¶„ë¥˜(1, 2), ì†Œë¶„ë¥˜(1.1, 1.2)
5. ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œë§Œ ìž‘ì„±
6. í•µì‹¬ ì—…ë¬´ ë‚´ìš©ì—ì„œ í”„ë¡œì íŠ¸ ì´ë¦„ ì œê±°

[ì¶œë ¥ í˜•ì‹]
================================================================================
                         â˜€ï¸ ì˜¤ì „ ê°œë°œí˜„í™©
================================================================================

ì•ˆë…•í•˜ì„¸ìš” ì§„ë£Œìž¥ë¹„ì‚¬ì—…ë¶€ íŽŒì›¨ì–´íŒ€

ì˜¤ì „ ê°œë°œí˜„í™© íŒ€ ë‚´ ê³µìœ  ë“œë¦½ë‹ˆë‹¤	

1 [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜1]
  1.1 [í•µì‹¬ ì—…ë¬´ ë‚´ìš© - ê°„ëžµí•˜ê²Œ]
  1.2 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]
  1.3 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]

2 [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜2]
  2.1 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]
  2.2 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]

================================================================================
                         ðŸŒ™ ì˜¤í›„ ê°œë°œí˜„í™©
================================================================================

ì•ˆë…•í•˜ì„¸ìš” ì§„ë£Œìž¥ë¹„ì‚¬ì—…ë¶€ íŽŒì›¨ì–´íŒ€

ì˜¤í›„ ê°œë°œí˜„í™© íŒ€ ë‚´ ê³µìœ  ë“œë¦½ë‹ˆë‹¤	

1 [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜1]
  1.1 [í•µì‹¬ ì—…ë¬´ ë‚´ìš©]
  1.2 [ì¶”ê°€ ì§„í–‰ ë‚´ìš©]
  1.3 [ê²€í† /ê²€ì¦ ë‚´ìš©]

2 [í”„ë¡œì íŠ¸ ëŒ€ë¶„ë¥˜2]
  2.1 [ì§„ì²™ì‚¬í•­]
  2.2 [ì„±ëŠ¥ í‰ê°€/ê°œì„  ë‚´ìš©]

================================================================================

[ìž‘ì„± ì§€ì¹¨]
- ì˜¤ì „: ì‹œìž‘/ê²€í† /êµ¬í˜„ ì¤‘ì‹¬ì˜ ë‚´ìš©
- ì˜¤í›„: ì™„ë£Œ/ê²€ì¦/ê°œì„  ì¤‘ì‹¬ì˜ ë‚´ìš©  
- ê° í•­ëª©ì€ í•œ ì¤„ë¡œ ê°„ê²°í•˜ê²Œ
- ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ë³´ë‹¤ ì—…ë¬´ ì§„í–‰ ìƒí™© ì¤‘ì‹¬

[ì •ë¦¬ëœ ì—…ë¬´ì¼ì§€]
{cleaned_text}
"""


# í”„ë¡œì íŠ¸ ì¶”ì²œ í”„ë¡¬í”„íŠ¸
PROJECT_RECOMMEND_PROMPT = """ë‹¤ìŒì€ í˜„ìž¬ ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ë“¤ì˜ ìƒíƒœìž…ë‹ˆë‹¤.
ì´ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ í•  ì¼ê³¼ ìš°ì„ ìˆœìœ„ë¥¼ ì¶”ì²œí•´ì£¼ì„¸ìš”.

[ë¶„ì„ í•­ëª©]
1. í”„ë¡œì íŠ¸ë³„ ìƒíƒœ í‰ê°€
   - ì§„í–‰ë¥  ëŒ€ë¹„ ëª©í‘œì¼ ë¶„ì„
   - ì¼ì • ìœ„í—˜ë„ í‰ê°€ (ì •ìƒ/ì£¼ì˜/ìœ„í—˜)
   
2. ìš°ì„ ìˆœìœ„ ì¡°ì • ì œì•ˆ
   - í˜„ìž¬ ìš°ì„ ìˆœìœ„ì˜ ì ì ˆì„± í‰ê°€
   - ì¡°ì •ì´ í•„ìš”í•œ ê²½ìš° ê·¼ê±°ì™€ í•¨ê»˜ ì œì•ˆ
   
3. ë‹¤ìŒì— í•´ì•¼ í•  ìž‘ì—… ì¶”ì²œ
   - í”„ë¡œì íŠ¸ë³„ êµ¬ì²´ì ì¸ ë‹¤ìŒ ë‹¨ê³„
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„
   
4. ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ ë°©ì•ˆ
   - ì§€ì—° ê°€ëŠ¥ì„±ì´ ìžˆëŠ” í”„ë¡œì íŠ¸
   - ë¦¬ì†ŒìŠ¤ ë¶€ì¡± ì˜ˆìƒ ì˜ì—­
   - ëŒ€ì‘ ì „ëžµ ì œì•ˆ

[ì¶œë ¥ í˜•ì‹]
================================================================================
                    ðŸ“Š í”„ë¡œì íŠ¸ ë¶„ì„ ë° ì¶”ì²œ
================================================================================

â–  1. í”„ë¡œì íŠ¸ë³„ ìƒíƒœ í‰ê°€
--------------------------------------------------------------------------------
[í”„ë¡œì íŠ¸1] - ìƒíƒœ: ðŸŸ¢ì •ìƒ / ðŸŸ¡ì£¼ì˜ / ðŸ”´ìœ„í—˜
â€¢ í˜„ìž¬ ì§„í–‰ë¥ : X% (ëª©í‘œ ëŒ€ë¹„ +/-Y%)
â€¢ ì¼ì • ë¶„ì„: 
â€¢ í‰ê°€:

â–  2. ìš°ì„ ìˆœìœ„ ì¡°ì • ì œì•ˆ
--------------------------------------------------------------------------------
í˜„ìž¬ ìš°ì„ ìˆœìœ„ â†’ ì œì•ˆ ìš°ì„ ìˆœìœ„
[í”„ë¡œì íŠ¸ëª…]: ë³´í†µ â†’ ë†’ìŒ (ì‚¬ìœ : ...)

â–  3. ë‹¤ìŒ í•  ì¼ ì¶”ì²œ
--------------------------------------------------------------------------------
ðŸ”¥ ê¸´ê¸‰ (ì´ë²ˆ ì£¼ ì™„ë£Œ í•„ìš”)
1. [í”„ë¡œì íŠ¸] - [êµ¬ì²´ì ì¸ ìž‘ì—…] (ì˜ˆìƒ Nì‹œê°„)

ðŸ“Œ ì¤‘ìš” (ì´ë²ˆ ë‹¬ ë‚´)
1. [í”„ë¡œì íŠ¸] - [êµ¬ì²´ì ì¸ ìž‘ì—…]

ðŸ“‹ ì¼ë°˜
1. [í”„ë¡œì íŠ¸] - [êµ¬ì²´ì ì¸ ìž‘ì—…]

â–  4. ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ ë°©ì•ˆ
--------------------------------------------------------------------------------
âš ï¸ [ìœ„í—˜ ìš”ì†Œ 1]
â€¢ ì˜í–¥ í”„ë¡œì íŠ¸:
â€¢ ëŒ€ì‘ ë°©ì•ˆ:

================================================================================

[í”„ë¡œì íŠ¸ í˜„í™© ë°ì´í„°]
{project_data}
"""


# === í”„ë¡¬í”„íŠ¸ ì¡°íšŒ í•¨ìˆ˜ ===

def get_prompt(prompt_type: str) -> str:
    """
    í”„ë¡¬í”„íŠ¸ ë°˜í™˜ (ì‚¬ìš©ìž ì„¤ì • ìš°ì„ , ì—†ìœ¼ë©´ ê¸°ë³¸ê°’)
    
    Args:
        prompt_type: "cleaning", "summary", "thanks", "devstatus" ì¤‘ í•˜ë‚˜
        
    Returns:
        í”„ë¡¬í”„íŠ¸ ë¬¸ìžì—´
    """
    # ìˆœí™˜ ìž„í¬íŠ¸ ë°©ì§€ë¥¼ ìœ„í•´ í•¨ìˆ˜ ë‚´ì—ì„œ ìž„í¬íŠ¸
    from ..utils.settings_manager import get_settings
    
    settings = get_settings()
    
    # ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë§¤í•‘
    default_prompts = {
        "cleaning": CLEANING_PROMPT,
        "summary": SUMMARY_PROMPT,
        "thanks": THANKS_PROMPT,
        "devstatus": DEVSTATUS_PROMPT,
        "period_analysis": PERIOD_ANALYSIS_PROMPT,
        "project_recommend": PROJECT_RECOMMEND_PROMPT,
    }
    
    # ì‚¬ìš©ìž í”„ë¡¬í”„íŠ¸ ì¡°íšŒ
    user_prompts = settings.get_all_prompts()
    user_prompt = user_prompts.get(prompt_type, "")
    
    # ì‚¬ìš©ìž í”„ë¡¬í”„íŠ¸ê°€ ìžˆìœ¼ë©´ ë°˜í™˜, ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ë°˜í™˜
    if user_prompt and user_prompt.strip():
        return user_prompt
    
    return default_prompts.get(prompt_type, "")


def get_default_prompt(prompt_type: str) -> str:
    """
    ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë°˜í™˜ (í•­ìƒ ì½”ë“œì— ì •ì˜ëœ ê¸°ë³¸ê°’)
    
    Args:
        prompt_type: "cleaning", "summary", "thanks", "devstatus", "period_analysis", "project_recommend" ì¤‘ í•˜ë‚˜
        
    Returns:
        ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë¬¸ìžì—´
    """
    default_prompts = {
        "cleaning": CLEANING_PROMPT,
        "summary": SUMMARY_PROMPT,
        "thanks": THANKS_PROMPT,
        "devstatus": DEVSTATUS_PROMPT,
        "period_analysis": PERIOD_ANALYSIS_PROMPT,
        "project_recommend": PROJECT_RECOMMEND_PROMPT,
    }
    return default_prompts.get(prompt_type, "")


def get_all_default_prompts() -> Dict[str, str]:
    """ëª¨ë“  ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ë°˜í™˜"""
    return {
        "cleaning": CLEANING_PROMPT,
        "summary": SUMMARY_PROMPT,
        "thanks": THANKS_PROMPT,
        "devstatus": DEVSTATUS_PROMPT,
        "period_analysis": PERIOD_ANALYSIS_PROMPT,
        "project_recommend": PROJECT_RECOMMEND_PROMPT,
    }

