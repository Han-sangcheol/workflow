"""
AI 프롬프트 설정
업무일지 분석을 위한 프롬프트 템플릿을 정의합니다.
"""

# 시스템 프롬프트 (AI 역할 정의)
SYSTEM_PROMPT = """당신은 FW팀의 업무일지를 분석하고 정리하는 전문가입니다.
정확하고 체계적으로 업무 내용을 정리하며, 항상 한국어로 응답합니다.
중국어 간체자는 절대 사용하지 않습니다."""


# 텍스트 정리 프롬프트 (1단계: 원본 텍스트 → 정리된 텍스트)
CLEANING_PROMPT = """다음은 팀원들의 일일 업무일지 원본 텍스트입니다.
'금일 업무' 섹션의 상세 내용만 추출하여 아래 [출력 형식]에 맞춰 정리해주세요.
'익일 업무' 섹션은 완전히 무시하고 추출하지 마세요.

[핵심 지침]
1. 각 팀원별로 명확히 구분하여 정리합니다.
2. '금일 업무'의 '상세 내용'만 추출합니다.
3. 프로젝트 번호와 프로젝트명을 유지합니다.
4. '목적'과 'Action' 항목을 명확히 구분합니다.
5. '계획(H)', '달성(H)', '계획(%)', '달성(%)' 수치를 정확히 추출하여 '투입시간'과 '진행률'로 표시합니다.
6. 중국어 간체자(例: 機能, 自動, 進行)는 한국어(例: 기능, 자동, 진행)로 변환합니다.
7. 불필요한 헤더, 푸터, 표 테두리 등은 제거합니다.
8. 원본 정보의 누락 없이 모두 포함하되, 간결하게 정리합니다.

[출력 형식]
=== FW팀 [팀원 이름] (YYYY.MM.DD) ===

[프로젝트 번호] [프로젝트명]
• 목적: [프로젝트 목적]
• Action:
  - [Action 항목 1]
  - [Action 항목 2]
• 투입시간: 계획 OOH / 달성 OOH
• 진행률: 계획 OO% / 달성 OO%

[프로젝트 번호] [프로젝트명]
• 목적: [프로젝트 목적]
• Action:
  - [Action 항목 1]
• 투입시간: 계획 OOH / 달성 OOH
• 진행률: 계획 OO% / 달성 OO%

... (다른 팀원 및 프로젝트 반복)

[원본 텍스트]
{documents_text}
"""


# 통합 회의록 생성 프롬프트 (2단계: 정리된 텍스트 → 회의록)
SUMMARY_PROMPT = """다음은 정리된 팀원들의 일일 업무일지입니다.
이 내용을 바탕으로 아래 [회의록 양식]에 맞춰 통합 회의록을 작성해주세요.

[핵심 지침 - 반드시 준수]
1. **프로젝트 통합**: 같거나 유사한 프로젝트명은 반드시 하나로 통합
   - 예: "bright Simple", "bright simple 개발", "bright Simple 4구" → 모두 "bright Simple 개발"로 통합
   - 예: "치과용 이송로봇", "이송로봇 개발" → "치과용 이송로봇 개발"로 통합
2. **담당자/목표일자 위치**: 각 프로젝트의 맨 마지막에 한 번만 표시 (세부항목마다 반복 금지)
3. **계층 구조**: 프로젝트 > 세부기능(1.1, 1.2) > 상세내용(a, b, c)
4. **진행률**: 프로젝트명 옆에 전체 진행률 표시
5. 반드시 한국어로만 작성 (중국어 간체자 사용 금지)
6. 간결하고 명확하게 작성

[회의록 양식]
================================================================================
                              회   의   록
--------------------------------------------------------------------------------
회의주제: 진료장비사업부 펌웨어팀 일일 회의
회의일자: YYYY.MM.DD
회의장소: 5층 진료장비사업부
참 석 자: [업무일지에서 추출한 팀원 이름들]
================================================================================

■ 회의내용                                              ■ 담당자 및 일정
--------------------------------------------------------------------------------
금주(일일) 이슈 사항

1 [프로젝트명] 개발 (진행률%)
  1.1 [세부 기능/카테고리 1]
      a [구체적 업무 내용 - 완료/진행중/검토중]
      b [구체적 업무 내용]
  1.2 [세부 기능/카테고리 2]
      a [구체적 업무 내용]
      b [구체적 업무 내용]
  1.3 [세부 기능/카테고리 3]
      a [구체적 업무 내용]
  목표일자: YY.MM.DD
  담당자: 담당자1, 담당자2, ...

2 [프로젝트명] 개발 (진행률%)
  2.1 [세부 기능/카테고리 1]
      a [구체적 업무 내용]
      b [구체적 업무 내용]
  2.2 [세부 기능/카테고리 2]
      a [구체적 업무 내용]
  목표일자: YY.MM.DD
  담당자: 담당자1, 담당자2, ...

                              - 이상입니다 -
================================================================================

[작성 규칙 - 중요]
1. 프로젝트 통합:
   - 같은 제품/프로젝트 관련 업무는 반드시 하나의 프로젝트로 통합
   - 팀원별로 분리하지 말고, 프로젝트별로 통합
   
2. 번호 체계:
   - 프로젝트: 1, 2, 3...
   - 세부 기능: 1.1, 1.2, 1.3... / 2.1, 2.2...
   - 상세 내용: a, b, c, d...

3. 담당자/목표일자:
   - 각 프로젝트의 맨 마지막에 한 번만 작성
   - 해당 프로젝트에 참여한 모든 담당자를 쉼표로 나열
   - 목표일자는 가장 가까운 일정 또는 대표 일정 사용

4. 상태 표현:
   - 완료: "~완료" 또는 "(완료)"
   - 진행중: "~중" 또는 "(진행중)"
   - 검토중: "~검토중"

[정리된 업무일지]
{cleaned_text}
"""


# 감사 인사 생성 프롬프트 (3단계: 정리된 텍스트 → 감사 인사)
THANKS_PROMPT = """다음은 정리된 팀원들의 일일 업무일지입니다.
각 팀원의 업무 내용을 바탕으로 개인별 감사 인사를 작성해주세요.

[요구사항]
1. 각 팀원의 구체적인 업무 내용을 언급하여 개인화된 메시지 작성
2. 진심 어린 감사와 격려의 마음 전달
3. 각 팀원당 3-4문장 정도로 작성
4. 따뜻하고 격려하는 톤 유지
5. 반드시 한국어로만 작성 (중국어 간체자 사용 금지)

[감사 인사 형식]
## 팀원별 감사 인사

### [팀원1 이름]님께
[개인화된 감사 메시지 - 구체적인 업무 내용 언급]

### [팀원2 이름]님께
[개인화된 감사 메시지 - 구체적인 업무 내용 언급]

[정리된 업무일지]
{cleaned_text}
"""

